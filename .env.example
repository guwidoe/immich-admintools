# Immich Admin Tools Configuration
# Copy this file to .env and fill in the values

# ===================
# Required Settings
# ===================

# Immich API URL (internal Docker network or external)
IMMICH_API_URL=http://immich_server:2283

# Immich API Key (generate from Immich web UI -> Account Settings -> API Keys)
IMMICH_API_KEY=your-api-key-here

# Redis URL (Immich's Redis instance)
REDIS_URL=redis://immich_redis:6379

# PostgreSQL credentials (must match database container settings in docker-compose.yml)
DB_PASSWORD=immich_db_password
DB_USERNAME=postgres
DB_DATABASE_NAME=immich
DB_HOST=172.23.176.1
DB_PORT=5432

# ===================
# Optional Settings
# ===================

# Server port (default: 3001 for dev, 3000 for production)
PORT=3001

# Log level: debug, info, warn, error
LOG_LEVEL=info

# CORS origin (default: * for dev)
CORS_ORIGIN=*

# ===================
# Auto-Heal Settings
# ===================

# Enable automatic stuck job recovery
AUTO_HEAL_ENABLED=false

# Check interval in seconds
AUTO_HEAL_INTERVAL=60

# Stuck job thresholds in seconds (per queue type)
THRESHOLD_FACE_DETECTION=300
THRESHOLD_FACIAL_RECOGNITION=300
THRESHOLD_THUMBNAIL=120
THRESHOLD_METADATA=180
THRESHOLD_VIDEO=1800
THRESHOLD_DEFAULT=300
